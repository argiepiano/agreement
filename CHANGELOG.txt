#1060836 by mradcliffe, good_man, pagaille: Added Drupal 7 version.